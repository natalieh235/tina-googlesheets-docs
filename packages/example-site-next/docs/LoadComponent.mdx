# `LoadComponent` Function

First we will add the async `LoadComponet Fuction`. This Function will be passed to the layout. It takes in a file name as a paramter and returns the imported file.

For next the fuction could look like this depending on your folder structor
```js render=true
export const loadComponent = async (fileName: string) => {
  try {
    const component = await import(`../../docs/${fileName}.mdx`);
    return component;
  } catch (e) {
    console.error(`${fileName} was not found`);
    console.error(e);
    throw e;
  }
};
```

adding this your slug page could look like this

```js
export const loadComponent = async (fileName: string) => {
  try {
    const component = await import(`../../docs/${fileName}.mdx`);
    return component;
  } catch (e) {
    console.error(`${fileName} was not found`);
    console.error(e);
    throw e;
  }
};

const SlugPage = () => {
  const router = useRouter()
  const currentSlug = router.query.slug as string
  console.log({currentSlug })
  if(router.isFallback || !currentSlug){
      return <div>Loading...</div>
  }
  return <Layout currentSlug={'/'+currentSlug} config={CONFIG} loadComponent={loadComponent}/>
}


export default SlugPage
```
For this to work we need to add the mdx loader to our next project. Thankfully this is pretty simple. 
`yarn add @next/mdx @mdx-js/loader`
edit next.config.js to look like this

```js
const config = {
  //.. old config
};
const withMDX = require('@next/mdx')({
  extension: /\.mdx?$/
})
module.exports = withMDX(config)
```


Now mdx is all setup but we are still missing the `CONFIG` for our project

export const TinaConfig = {
    enabled: false
}

export const code = ''